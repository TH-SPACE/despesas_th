<!DOCTYPE html>
<html>
<head>
    <title>Criar Favicon</title>
</head>
<body>
    <h1>Criando favicon a partir da imagem familia.jpg</h1>
    <img id="sourceImage" src="/img/familia.jpg" style="display:none;" onload="createFavicon()">
    <canvas id="canvas" style="display:none;"></canvas>
    
    <script>
        function createFavicon() {
            const img = document.getElementById('sourceImage');
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            
            // Definir tamanho do favicon
            const faviconSize = 32;
            
            // Redimensionar imagem para favicon
            canvas.width = faviconSize;
            canvas.height = faviconSize;
            
            // Desenhar imagem redimensionada no canvas
            ctx.drawImage(img, 0, 0, faviconSize, faviconSize);
            
            // Converter para blob e fazer download
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'favicon.ico';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            }, 'image/x-icon');
        }
        
        // Chamar a função após carregar
        window.onload = function() {
            const img = document.getElementById('sourceImage');
            if (img.complete) {
                createFavicon();
            }
        };
    </script>
</body>
</html>